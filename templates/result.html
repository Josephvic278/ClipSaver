<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Page title</title>
    <link rel="stylesheet" href="/static/home.css">
    <link rel="stylesheet" href="/static/result.css">
    <script src="/static/result.js"></script>
</head>
<body onclick="close_resbar()">
    <div class="top_bar">
        <div class="logo">
            <img src="/static/Clip_saver_logo.png" alt=""></img>
        </div>
        
        <div class="menu">
            <img src="/static/menu.png" alt=""></img>
        </div>
    </div>
   
   
   <div class="body_sector">
    {% if data.video or data.audio %}
  {% set title_dict = [] %}
  {% set image_dict = [] %}
  {% set vid_ids = [] %}
  <input type="text" value="720" class="hide" id="res_input">
  {% for video_values in data.video.values() %}
      {% set _= vid_ids.append(video_values.id) %}
      {% set _= title_dict.append(video_values.title) %}
      {% set _= image_dict.append(video_values.img) %}
  {% endfor %}
  
  <div class="header_text">
        <h1>Download <b class="yt_text">YouTube</b> videos up to <b class="yt_text">4K</b> resolution</h1>        
    </div>
  
  <div class="top_details_bg">
      <div class="top_details">
          <img src="{{ data.meta.thumb }}" alt="{{ data.meta.title }}"></img>
          <h2>{{title_dict[0]}}
          <br>
          <div class="vid_length">
              <p>{{ data.meta.length }}</p>              
          </div>
          </h2>
      </div>
  </div>
  
  <div class="drop_down_bg">
      <div class="drop_down">
          <div class="drop_title">
              <p>Video</p>
          </div>
          <div class="drop_value">
              <p id="vid_value"></p>
          </div>
          <div class="drop_arrow" onclick="open_resbar()">
              <img src="/static/downarrow.png" alt=""></img>
          </div>
      </div>      
  </div>
   {% set ids = [] %}
  <div class="resbar" id="resbar">
      <div class="resbar_content">
          {% for vid_id in data.video.values() %}
          <p onclick="res_{{vid_id.res}}({{vid_id.id}})"> {{vid_id.res}}</p>                    
          {% endfor %}
      </div>      
  </div>  
  
  <input type="text" class="hide" id="vid_ids" value="{{vid_ids}}">
  {% for video in data.video.values() %}
  <div class="video_info_tab_bg" vid-info-id="{{video.id}}" id="vid_info_bg">
    <div class="video_info_tab"> 
    <div class="video_info_tab_content">
    
    <div class="p_line">
        <img src="/static/res_icon.png" alt="" class="mini_img"></img>
        <p>Resolution: {{ video.res }}</p>
    </div> 
    
    <div class="p_line">
        <img src="/static/vid_icon.png" alt="" class="mini_img"></img>
        <p>Video Type: {{ video.file_type }}</p>
    </div>   
    
    <div class="p_line">
        <img src="/static/file_icon.png" alt="" class="mini_img"></img>
        <p>Video Format: {{ video.file_extension }}</p>    
    </div>
    
    <div class="p_line">
        <img src="/static/drive_icon.png" alt="" class="mini_img"></img>
        <p>Size: {{ video.filesize }}</p>
    </div>
        
    <div class="download_btn">
                    
            <a href="{{ video.download_link }}">
                <button>Download</button>
            </a>               
    </div>     
    
    </div>      
    </div>   
    </div>
  {% endfor %}

<div class="top_details_bg" id="sm">
      <div class="top_details">         
          <img src="{{ data.meta.thumb }}" alt="{{ data.meta.title }}" class="pos_it">              
          </img>
          
          <h2>{{title_dict[0]}}
          <br>
          <div class="vid_length">
              <p>{{ data.meta.length }}</p>              
          </div>
          </h2>
      </div>
  </div>
  
  <h2>Audios:</h2>
  {% for audio in data.audio.values() %}
    <h3>{{ audio.title }}</h3>
    <p>Bitrate: {{ audio.bitrate }}</p>
    <p>File Type: {{ audio.file_type }}</p>
    <p>File Extension: {{ audio.file_extension }}</p>
    <p>Filesize: {{ audio.filesize }}</p>
    <p>Download Link: <a href="{{ audio.download_link }}">Download</a></p>
  {% endfor %}
    {% elif data.error %}
      <p>Error: {{ data.error }}</p>
    {% else %}
      <p>No data available.</p>
    {% endif %}

</div>

</body>
</html>
